<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ajax</title>
    <script>
      window.onload = function() {
        let oBtn = document.getElementById("btn");
        oBtn.onclick = function() {
          // 不兼容IE6
          if (window.XMLHttpRequest) {
            let xhr = new XMLHttpRequest();
            // 连接   open第三个参数 true为同步，false为异步
            // 异步——并行     多个操作同时进行
            // 同步——串行     一多个操作一个一个进行
            xhr.open("GET", "1.php", true);
            // 发送
            xhr.send();
            // 接收
            // onreadystatechange当通信状态发生变化   readyState目前通信处于什么状态
            // 0初始化    刚刚创建
            // 1已连接
            // 2已发送
            // 3已接受    请求头
            // 4已接受    请求体    完成请求，无论请求成功与否
            xhr.onreadystatechange = function() {
              if (xhr.readyState === 4) {
                // 成功——2xx、304
                if (
                  (xhr.status >= 200 && xhr.status < 300) ||
                  xhr.status === 304
                ) {
                } else {
                }
              }
            };
          } else {
            var xhr = ActiveXObject("Microsoft.XMLHttp");
          }
        };
      };
    </script>
  </head>
  <body>
    <input type="button" value="submit" id="btn" />
  </body>
</html>
